#!/bin/bash

declare -i input #r,ead/i,nteger/a,rray/f,unc/e,x,port

echo "do you want find with special file type?"
echo "1.c,cpp 2.java 3.build script 4.all"
read -p "you selected : " input

echo -n "wait"
#for (( i = 0; i < 2; i++ ))
#do
#       echo -n .
#       sleep 1
#done

echo
echo =================================== result ======================================

if [ "$input" == "c,cpp" ] || [ "$input" -eq 1 ]; then
       egrep -IHRin "$1" --include ="*.c" --include="*.cc" --include="*.cpp" --include="*.h" --include="*.hh" --include="*.hpp" .
elif [ "$input" == "java" ] || [ "$input" -eq 2 ]; then
       egrep -IHRin "$1" --include="*.java" --include="*.h" .
elif [ "$input" == "build script" ] || [ "$input" -eq 3 ]; then
       egrep -IHRin "$1" --include="*.mk" --include="CMakeLists.txt" .
elif [ "$input" == "all" ] || [ "$input" -eq 4 ]; then
       egrep -IHRin "$1" --exclude-dir=".git" --exclude-dir="oe-workdir" --exclude-dir="oe-logs" --exclude="*.o" --exclude="*.lib" --exclude="cscope.out" --exclude="cscope.out.po" --exclude="cscope.out.in" --exclude="cscope.files" --exclude="tags" --exclude="log.txt" --exclude="GPATH" --exclude="GRTAGS" --exclude="GTAGS" .
else
       echo do nothing
fi
